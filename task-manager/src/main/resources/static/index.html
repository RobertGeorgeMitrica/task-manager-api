<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>Task Manager Pro</title>
    <style>
        :root {
            --primary: #2d6a4f;
            --success: #52b788;
            --danger: #e74c3c;
            --bg: #1b4332;
        }

        body {
            font-family: 'Inter', -apple-system, sans-serif;
            margin: 0;
            padding: 40px;
            background: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)),
                        url('https://images.unsplash.com/photo-1441974231531-c6227db76b6e?auto=format&fit=crop&w=1920&q=80');
            background-size: cover;
            background-attachment: fixed;
            background-position: center;
            color: #2d3436;
        }

        .container { max-width: 1100px; margin: auto; }

        .card {
           background: rgba(255, 255, 255, 0.98); /* Mai pu»õin transparent pentru lizibilitate maximƒÉ */
           backdrop-filter: blur(15px);
           padding: 25px; /* Pu»õin mai mult spa»õiu interior */
           margin-bottom: 25px;
           border-radius: 16px; /* Col»õuri mai rotunjite, mai moderne */
           border: 1px solid rgba(255, 255, 255, 0.3); /* O bordurƒÉ finƒÉ de sticlƒÉ */
           border-left: 6px solid var(--primary); /* Bordura lateralƒÉ un pic mai groasƒÉ */
           box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12); /* UmbrƒÉ mai difuzƒÉ »ôi mai naturalƒÉ */
           transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); /* Anima»õie mai finƒÉ */
        }


        .card:hover {
         transform: translateY(-5px); /* Se ridicƒÉ un pic mai mult la hover */
         box-shadow: 0 12px 40px rgba(0, 0, 0, 0.2);
        }

        h1 {
            color: white;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            font-weight: 800;
            margin-bottom: 30px;
        }

        .task-header { display: flex; justify-content: space-between; align-items: flex-start; }

        .completed { text-decoration: line-through; color: #b2bec3; }

        .card.is-completed { border-left-color: var(--success); }

        input, select, textarea {
            width: 100%; padding: 12px; margin: 0;
            border: 2px solid #eee; border-radius: 8px; outline: none;
            transition: border-color 0.3s; box-sizing: border-box;
            background: rgba(255, 255, 255, 0.8);
            font-family: inherit;
        }

        input:focus, select:focus, textarea:focus {
            border-color: var(--primary);
            background: white;
        }

        .btn {
            padding: 10px 20px; border-radius: 8px; border: none;
            font-weight: 600; cursor: pointer; transition: 0.3s;
        }

        .btn-save {
            background: var(--primary); color: white; width: 100%;
            letter-spacing: 1px; text-transform: uppercase;
        }

        .btn-complete { background: var(--success); color: white; margin-right: 10px; }
        .btn-undo { background: #636e72; color: white; margin-right: 10px; }
        .btn-delete { background: var(--danger); color: white; }
        .btn:hover { opacity: 0.85; transform: scale(0.98); }

        .btn-filter {
           background: rgba(255, 255, 255, 0.1);
           border: 1px solid rgba(255, 255, 255, 0.2);
           padding: 12px 20px;
           border-radius: 10px;
           cursor: pointer;
           font-weight: 600;
           color: white;
           text-align: left;
           display: block;
           transition: all 0.3s;
           width: 100%;
           backdrop-filter: blur(5px);
           margin-bottom: 8px;
        }

        .btn-filter.active-filter {
            background: var(--primary);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }

        .btn-clear {
            background: rgba(45, 106, 79, 0.15);
            color: #b2f2bb;
            border: 1px solid #52b788;
            margin-top: 15px;
            width: 100%;
            font-weight: bold;
            text-transform: uppercase;
        }

        @keyframes pulse-border {
            0% { box-shadow: 0 0 0 0 rgba(82, 183, 136, 0.7); }
            70% { box-shadow: 0 0 0 15px rgba(82, 183, 136, 0); }
            100% { box-shadow: 0 0 0 0 rgba(82, 183, 136, 0); }
        }

        .current-task {
            border: 3px solid var(--success) !important;
            animation: pulse-border 2s infinite !important;
            transform: scale(1.02);
            z-index: 10;
        }

        .task-description {
           color: #2d3436;
           line-height: 1.6;
           font-size: 0.9rem;
           transition: max-height 0.3s ease-in-out;
           overflow: hidden; /* Asta va tƒÉia textul care depƒÉ»ôe»ôte limita */
           position: relative;
        }

        .task-description.collapsed { max-height: 4.8em;  margin-bottom: 5px; }
        .task-description.expanded { max-height: 1000px; margin-bottom: 10px; }

        .btn-read-more {
            display: block; /* √él for»õƒÉm sƒÉ stea pe r√¢ndul lui, sub text */
            background: rgba(45, 106, 79, 0.08);
            color: var(--primary);
            border: none;
            padding: 4px 12px;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: bold;
            cursor: pointer;
            width: fit-content; /* Se str√¢nge c√¢t e textul */
            margin-top: 5px;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>Task Manager</h1>

    <div class="card" style="padding: 25px; border-left: 5px solid var(--primary); margin-bottom: 40px; background: rgba(255, 255, 255, 0.95);">
        <div style="display: flex; gap: 15px; margin-bottom: 20px; align-items: center;">
            <select id="timeInput" style="flex: 1.2; border: 1px solid #ddd;">
                <option value="">Select Time</option>
                <option value="08:00 - 09:30">08:00 - 09:30</option>
                <option value="09:30 - 11:00">09:30 - 11:00</option>
                <option value="11:00 - 12:30">11:00 - 12:30</option>
                <option value="12:30 - 14:00">12:30 - 14:00</option>
                <option value="14:00 - 15:30">14:00 - 15:30</option>
                <option value="15:30 - 17:00">15:30 - 17:00</option>
                <option value="17:00 - 18:30">17:00 - 18:30</option>
                <option value="19:00 - 20:30">19:00 - 20:30</option>
                <option value="20:30 - 22:00">20:30 - 22:00</option>
            </select>

            <input id="titleInput" placeholder="What's the main focus?" style="flex: 2.5; border: 1px solid #ddd;" type="text">

            <select id="categoryInput" style="flex: 1.2; border: 1px solid #ddd;">
                <option value="">Category</option>
                <option value="DEEP WORK">DEEP WORK</option>
                <option value="BREAK">BREAK</option>
                <option value="SPORT">SPORT</option>
                <option value="SQL PRACTICE">SQL PRACTICE</option>
                <option value="DOCUMENTATION">DOCUMENTATION</option>
            </select>
        </div>

        <div style="margin-bottom: 20px;">
        <textarea id="descInput" placeholder="Detailed notes (steps, links, sub-tasks)..."
                  style="width: 100%; min-height: 100px; padding: 12px; border-radius: 8px; border: 1px solid #ddd; font-family: inherit; resize: vertical; box-sizing: border-box;"></textarea>
        </div>

        <div style="display: flex; justify-content: flex-end;">
            <button class="btn btn-save" onclick="createTask()" style="width: auto; padding: 12px 40px; border-radius: 30px; box-shadow: 0 4px 15px rgba(45, 106, 79, 0.2);">
                + Add Task
            </button>
        </div>
    </div>

    <div style="display: flex; gap: 30px; align-items: flex-start;">
        <div style="flex: 1; position: sticky; top: 40px;">
            <div class="card" id="stats" style="border-left: 5px solid #636e72; padding: 15px; margin-bottom: 20px;"></div>

            <div style="display: flex; flex-direction: column; gap: 10px;">
                <button class="btn-filter active-filter" onclick="filterTasks('all', this)">All Tasks</button>
                <button class="btn-filter" onclick="filterTasks('active', this)">To Do</button>
                <button class="btn-filter" onclick="filterTasks('completed', this)">Finished</button>
                <button class="btn btn-clear" onclick="clearCompleted()">üóëÔ∏è Clear Finished</button>
            </div>

            <div class="card" id="categoryStats" style="border-left: 5px solid var(--success); margin-top: 20px; padding: 15px; font-size: 0.85rem;"></div>
        </div>

        <div style="flex: 3;">
            <div class="card" style="border-left-color: #636e72; margin-bottom: 20px; padding: 10px 15px;">
                <input type="text" id="searchInput" oninput="searchTasks()"
                       placeholder="üîç Search tasks by title or description..."
                       style="background: rgba(255,255,255,0.7); border: 1px solid #ddd; width: 100%;">
            </div>
            <div id="taskList"></div>
        </div>
    </div>
</div>

<div id="customModal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.7); z-index:9999; align-items:center; justify-content:center; backdrop-filter: blur(5px);">
    <div class="card" style="max-width:400px; text-align:center; border-left: 5px solid var(--danger);">
        <h3 style="margin-top:0;">Are you sure?</h3>
        <p>This action will permanently delete the selected tasks.</p>
        <div style="display:flex; gap:10px; margin-top:20px;">
            <button class="btn" onclick="closeModal()" style="flex:1; background:#636e72; color:white;">Cancel</button>
            <button id="confirmBtn" class="btn btn-delete" style="flex:1;">Yes, delete them</button>
        </div>
    </div>
</div>

<script src="script.js"></script>

</body>
</html>